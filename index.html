<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday My Gurl!</title>

  <style>
    /* keep your styling but cleaned a bit */
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Comic Sans MS',cursive,sans-serif}
    body{ background:linear-gradient(135deg,#ff9a9e 0%,#fad0c4 100%); height:100vh; overflow:hidden; display:flex; justify-content:center; align-items:center; position:relative; }
    .container{ text-align:center; z-index:10; padding:2rem; max-width:800px; background:rgba(255,255,255,0.2); border-radius:20px; backdrop-filter:blur(5px); box-shadow:0 8px 32px rgba(255,105,180,0.3); transition:all .5s; }
    h1{ font-size:3rem; color:#FF1493; text-shadow:2px 2px 8px rgba(255,255,255,0.8); margin-bottom:1rem; opacity:1; }
    .subtitle{ font-size:1.25rem; color:#8A2BE2; margin-bottom:1.5rem; opacity:1; }
    .next-button{ padding:1rem 2rem; font-size:1.25rem; background:linear-gradient(45deg,#FF1493,#8A2BE2); color:white; border:none; border-radius:50px; cursor:pointer; box-shadow:0 4px 15px rgba(255,20,147,0.5); }
    .audio-controls{ position:fixed; bottom:20px; right:20px; background:rgba(255,255,255,0.85); padding:10px; border-radius:50px; display:flex; align-items:center; gap:.5rem; z-index:100; }
    .floating{ position:absolute; pointer-events:none; z-index:1; opacity:.9 }
  </style>
</head>
<body>
  <div class="container" role="main" aria-labelledby="mainHeading">
    <h1 id="mainHeading">Happy Birthday,<br/>My Gurl! üéâüéÇ</h1>
    <div class="subtitle">Hey Bestie! Ready for your special surprise? Click to continue!</div>
    <button class="next-button" id="goButton" aria-label="Go to Memory Lane">Let's Go! ‚ú®</button>
  </div>

  <div class="audio-controls" aria-hidden="false">
    <button id="playPauseBtn" aria-pressed="false" title="Play / Pause (click)"><span id="playIcon">‚ñ∂Ô∏è</span></button>
    <input id="volume" type="range" min="0" max="1" step="0.05" value="0.5" aria-label="Volume" />
  </div>

  <audio id="birthdaySong" loop preload="auto">
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mp3" />
    <!-- fallback -->
  </audio>

  <!-- CDN scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js" integrity="" crossorigin="anonymous"></script>

  <script>
    const audio = document.getElementById('birthdaySong');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const playIcon = document.getElementById('playIcon');
    const volume = document.getElementById('volume');
    const goBtn = document.getElementById('goButton');

    audio.volume = Number(volume.value);

    // Defer autoplay attempt until after a user gesture ‚Äî try once after load, but don't spam console
    window.addEventListener('load', () => {
      // try to play, but browsers block; this attempt is optional
      setTimeout(() => {
        audio.play().then(()=> {
          playIcon.textContent = '‚è∏Ô∏è';
          playPauseBtn.setAttribute('aria-pressed','true');
        }).catch(()=> {
          // we'll rely on user to start playback; no console errors needed
        });
      }, 800);
    });

    playPauseBtn.addEventListener('click', () => {
      if (audio.paused) {
        audio.play().then(() => { playIcon.textContent='‚è∏Ô∏è'; playPauseBtn.setAttribute('aria-pressed','true'); }).catch(()=>{});
      } else {
        audio.pause(); playIcon.textContent='‚ñ∂Ô∏è'; playPauseBtn.setAttribute('aria-pressed','false');
      }
    });

    volume.addEventListener('input', () => { audio.volume = Number(volume.value); });

    // next button animation then navigate
    goBtn.addEventListener('click', () => {
      gsap.to(goBtn, { scale:1.12, duration:0.15, yoyo:true, repeat:1, onComplete: () => { location.href = 'memorylane.html'; } });
    });

    // floating elements creation (non-blocking)
    function createFloatingElements() {
      const colors=['#FF1493','#8A2BE2','#FFD700','#FF4500','#00BFFF','#32CD32'];
      const types = ['üéà','‚ù§Ô∏è','‚ú®','‚òÖ'];
      for (let i=0;i<40;i++){
        setTimeout(()=>{
          const el = document.createElement('div');
          el.className='floating';
          el.style.left = Math.random()*100 + 'vw';
          el.style.top = '-30px';
          el.style.fontSize = (10 + Math.random()*30) + 'px';
          el.textContent = types[Math.floor(Math.random()*types.length)];
          document.body.appendChild(el);
          gsap.to(el, { y: window.innerHeight + 80, x: "+=" + (Math.random()*200-100), rotation: Math.random()*360, duration: 6 + Math.random()*6, ease: "power1.out", onComplete: () => el.remove() });
        }, i*120);
      }
    }

    // start some on load
    window.addEventListener('load', createFloatingElements);
    setInterval(createFloatingElements, 6000);
  </script>
</body>
</html>
